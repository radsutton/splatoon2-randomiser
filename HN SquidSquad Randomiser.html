<!doctype html>
<html class="no-js" lang="" style="font-family:Arial; font-size:large">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script
  src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
  crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<head>
  <meta charset="utf-8">
  <title>HN SquidSquad Randomiser</title>
  <meta name="description" content="A one page app for choosing teams randomly">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Richard Sutton">
</head>

<body class="container" style="background-color:#1c1d23;color: white">
<div style="text-align: center;font-weight: bold;" class="row mx-auto d-block">
  <img src="https://i.imgur.com/yEyhDYR.png" title="HN" alt="HN" style="max-width: 5rem"/>
  <h1 class="d-block" style="font-weight: bolder;">SquidSquad Randomiser!</h1>
</div>
<div>
  <div style="padding: 0 0.5rem 0.5rem" class="nintendo-style">
  <h3>Choose your players:</h3>
  <form id="player-form">
    <div class="form-check-inline player-template" style="display: none">
      <label class="form-check-label player-template-label btn btn-sm" style="box-shadow: 2px 2px 2px grey;">
        <input class="player-template-input" style="display: none" type="checkbox" onclick="choosePlayer(this)" name="players" value="PlayerTemplate">PlayerTemplate
      </label>
    </div>
  </form>
  <script>
    function makeNintendoStyle(element) {
      element.style.backgroundColor = "#e81c27";
      element.style.borderStyle = "solid";
      element.style.borderRadius = "15px";
      element.style.borderColor = "white";
      element.style.borderWidth = "0.1rem";
      element.style.color = "white";
      element.style.marginBottom = "1%";
      element.style.marginLeft = "-15px";
      element.style.marginRight = "-15px";
      element.style.textAlign = "center";
    }
    function nintendise() {
      let nintyElements = document.getElementsByClassName("nintendo-style");
      for (let i = 0; i < nintyElements.length; i++) {
        makeNintendoStyle(nintyElements[i]);
      }
    }
    function nintyReload(element) {
      element.style.backgroundColor = "black";
      element.style.color = "black";
      window.setTimeout(function () {
        nintendise();
      }, 30);
    }
    function styleButton(element) {
      element.style.color = "black";
      element.style.boxShadow = "2px 2px 2px grey";
      element.style.marginBottom = "0.2rem";
    }
    function styleButtonOn(element) {
      element.style.backgroundColor = "white";
      styleButton(element);
    }
    function styleButtonOff(element) {
      element.style.backgroundColor = "grey";
      styleButton(element);
    }
    function choosePlayer(element) {
      if (element.checked) {
        styleButtonOn(element.parentElement);
      }
      else {
        styleButtonOff(element.parentElement);
      }
    }
    let playerNames = ["&ahalf","Aloha","Blümchen","Butter","Cogigo","Deradi","McJonni","Redwood","Reh","Smith"];
    let guestNames = ["Guest 1","Guest 2","Guest 3"];
    let playerTemplate = document.getElementsByClassName("player-template")[0];
    let playerLabelTemplate = document.getElementsByClassName("player-template-label")[0];
    let playerInputTemplate = document.getElementsByClassName("player-template-input")[0];
    let playerForm = document.getElementById("player-form");
    for (let i = 0; i < playerNames.length; i++) {
      let newPlayer = playerTemplate.cloneNode();
      newPlayer.classList.replace("player-template", "player");
      let playerLabel = playerLabelTemplate.cloneNode();
      playerLabel.classList.remove("player-template-label")
      let playerInput = playerInputTemplate.cloneNode();
      playerInput.classList.remove("player-template-input")
      newPlayer.setAttribute("id", playerNames[i]);
      playerInput.setAttribute("value", playerNames[i]);
      playerInput.setAttribute("checked", "true");
      newPlayer.style.display = "";
      playerLabel.textContent = playerNames[i];
      styleButtonOn(playerLabel);
      playerLabel.appendChild(playerInput)
      newPlayer.appendChild(playerLabel);
      playerForm.appendChild(newPlayer);
    }/*
    let hr = document.createElement("hr");
    hr.style.margin = "0.2rem";
    hr.style.backgroundColor = "#e81c27";
    playerForm.appendChild(hr);*/
    for (let i = 0; i < guestNames.length; i++) {
      let newPlayer = playerTemplate.cloneNode();
      newPlayer.classList.replace("player-template", "player");
      let playerLabel = playerLabelTemplate.cloneNode();
      playerLabel.classList.remove("player-template-label")
      let playerInput = playerInputTemplate.cloneNode();
      playerInput.classList.remove("player-template-input")
      newPlayer.setAttribute("id", guestNames[i]);
      playerInput.setAttribute("value", guestNames[i]);
      newPlayer.style.display = "";
      playerLabel.textContent = guestNames[i];
      styleButtonOff(playerLabel);
      playerLabel.appendChild(playerInput)
      newPlayer.appendChild(playerLabel);
      playerForm.appendChild(newPlayer);
    }
  </script>
  </div>
  <div style="padding: 0 0.5rem 0.5rem;" class="nintendo-style">
  <h3>Choose your group size:</h3>
  <form>
    <div class="form-check-inline">
      <label class="form-check-label btn btn-sm" style="font-weight: bold">
        <input type="radio" class="form-check-input group-size" style="display: none" id="group-two" onclick="chooseGroupSize()" name="group-size" value="2">2
      </label>
    </div>
    <div class="form-check-inline">
      <label class="form-check-label btn btn-sm" style="font-weight: bold">
        <input type="radio" class="form-check-input group-size" style="display: none" id="group-three" onclick="chooseGroupSize()" name="group-size" value="3">3
      </label>
    </div>
    <div class="form-check-inline">
      <label class="form-check-label btn btn-sm" style="font-weight: bold">
        <input type="radio" class="form-check-input group-size" style="display: none;" id="group-four" onclick="chooseGroupSize()" name="group-size" value="4" checked>4
      </label>
    </div>
  </form>
  </div>
  <script>
    function chooseGroupSize() {
      let groupSizes = document.getElementsByClassName("group-size");
      for (let i = 0;i < groupSizes.length;i++) {
        if (groupSizes[i].checked) {
          styleButtonOn(groupSizes[i].parentElement);
        }
        else {
          styleButtonOff(groupSizes[i].parentElement);
        }
      }
    }
    function randomisePlayers() {
      //Set up random weapon generation
      let allWeapons = [".52 Gal",
        ".52 Gal Deco",
        ".96 Gal",
        ".96 Gal Deco",
        "Aerospray MG",
        "Aerospray PG",
        "Aerospray RG",
        "Ballpoint Splatling",
        "Ballpoint Splatling Nouveau",
        "Bamboozler 14 Mk I",
        "Bamboozler 14 Mk II",
        "Bamboozler 14 Mk III",
        "Blaster",
        "Bloblobber",
        "Bloblobber Deco",
        "Carbon Roller",
        "Carbon Roller Deco",
        "Cherry H-3 Nozzlenose",
        "Clash Blaster",
        "Clash Blaster Neo",
        "Classic Squiffer",
        "Clear Dapple Dualies",
        "Custom Blaster",
        "Custom Dualie Squelchers",
        "Custom E-liter 4K",
        "Custom E-liter 4K Scope",
        "Custom Explosher",
        "Custom Goo Tuber",
        "Custom Hydra Splatling",
        "Custom Jet Squelcher",
        "Custom Range Blaster",
        "Custom Splattershot Jr.",
        "Dapple Dualies",
        "Dapple Dualies Nouveau",
        "Dark Tetra Dualies",
        "Dualie Squelchers",
        "Dynamo Roller",
        "E-liter 4K",
        "E-liter 4K Scope",
        "Enperry Splat Dualies",
        "Explosher",
        "Firefin Splat Charger",
        "Firefin Splatterscope",
        "Flingza Roller",
        "Foil Flingza Roller",
        "Foil Squeezer",
        "Forge Splattershot Pro",
        "Fresh Squiffer",
        "Glooga Dualies",
        "Glooga Dualies Deco",
        "Gold Dynamo Roller",
        "Goo Tuber",
        "Grim Range Blaster",
        "H-3 Nozzlenose",
        "H-3 Nozzlenose D",
        "Heavy Splatling",
        "Heavy Splatling Deco",
        "Heavy Splatling Remix",
        "Hero Blaster Replica",
        "Hero Brella Replica",
        "Hero Charger Replica",
        "Hero Dualie Replicas",
        "Hero Roller Replica",
        "Hero Shot Replica",
        "Hero Slosher Replica",
        "Hero Splatling Replica",
        "Herobrush Replica",
        "Hydra Splatling",
        "Inkbrush",
        "Inkbrush Nouveau",
        "Jet Squelcher",
        "Kensa .52 Gal",
        "Kensa Charger",
        "Kensa Dynamo Roller",
        "Kensa Glooga Dualies",
        "Kensa L-3 Nozzlenose",
        "Kensa Luna Blaster",
        "Kensa Mini Splatling",
        "Kensa Octobrush",
        "Kensa Rapid Blaster",
        "Kensa Sloshing Machine",
        "Kensa Splat Dualies",
        "Kensa Splat Roller",
        "Kensa Splatterscope",
        "Kensa Splattershot",
        "Kensa Splattershot Jr.",
        "Kensa Splattershot Pro",
        "Kensa Undercover Brella",
        "Krak-On Splat Roller",
        "L-3 Nozzlenose",
        "L-3 Nozzlenose D",
        "Light Tetra Dualies",
        "Luna Blaster",
        "Luna Blaster Neo",
        "Mini Splatling",
        "N-ZAP '83",
        "N-ZAP '85",
        "N-ZAP '89",
        "Nautilus 47",
        "Nautilus 79",
        "Neo Splash-o-matic",
        "Neo Sploosh-o-matic",
        "New Squiffer",
        "Octobrush",
        "Octobrush Nouveau",
        "Octo Shot Replica",
        "Permanent Inkbrush",
        "Range Blaster",
        "Rapid Blaster",
        "Rapid Blaster Deco",
        "Rapid Blaster Pro",
        "Rapid Blaster Pro Deco",
        "Slosher",
        "Slosher Deco",
        "Sloshing Machine",
        "Sloshing Machine Neo",
        "Soda Slosher",
        "Sorella Brella",
        "Splash-o-matic",
        "Splat Brella",
        "Splat Charger",
        "Splat Dualies",
        "Splat Roller",
        "Splatterscope",
        "Splattershot",
        "Splattershot Jr.",
        "Splattershot Pro",
        "Sploosh-o-matic",
        "Sploosh-o-matic 7",
        "Squeezer",
        "Tenta Brella",
        "Tenta Camo Brella",
        "Tenta Sorella Brella",
        "Tentatek Splattershot",
        "Tri-Slosher",
        "Tri-Slosher Nouveau",
        "Undercover Brella",
        "Undercover Sorella Brella",
        "Zink Mini Splatling"]
      let isRandomWeapons = document.getElementsByClassName("is-random-weapons")[0].checked;
      //Remove previous results
      let previousGroups = document.getElementsByClassName("random-group");
      let prevGroupLength = previousGroups.length;
      for (let i = 0; i < prevGroupLength; i++) {
        previousGroups[0].remove();
      }
      //Get all checked players
      let playerForm = document.getElementById("player-form");
      let playerList = [];
      for (let i = 0; i < playerForm.children.length; i++) {
        if (playerForm.children[i].classList.contains("player") &&
            playerForm.children[i].children[0].children[0].checked){
              playerList.push(playerForm.children[i].children[0].children[0].getAttribute("value"));
        }
      }
      //Get group size
      let groupSizes = document.getElementsByName('group-size');
      let groupSize;
      for (let i = 0, length = groupSizes.length; i < length; i++) {
        if (groupSizes[i].checked) {
          groupSize = groupSizes[i].value;
          break;
        }
      }
      //Assign players random numbers and organise them so
      let orderedPlayerList = [];
      for (let i = 0, length = playerList.length; i < length; i++) {
        let randomNumber = Math.floor(Math.random() * 500);
        orderedPlayerList.push([randomNumber, playerList[i]]);
      }
      orderedPlayerList.sort(function(a, b){return a[0]-b[0]});
      //Add results to page
      let groupTemplate = document.getElementsByClassName("group-template")[0];
      while (orderedPlayerList.length > 0) {
        let groupElement = groupTemplate.cloneNode();
        groupElement.classList.remove("group-template");
        groupElement.classList.add("random-group");
        groupElement.style.display = "";
        let li = document.createElement("ul");
        li.style.padding = "0";
        for (let i = 0; i < groupSize; i++) {
          let orderedPlayer = orderedPlayerList.pop();
          if (orderedPlayer !== undefined) {
            let listItem = document.getElementsByClassName("group-item-template")[0].cloneNode();
            listItem.style.display = "";
            listItem.classList.remove("group-item-template");
            listItem.textContent = orderedPlayer[1];
            //Add random weapon if checked
            if (isRandomWeapons) {
              let weaponText = document.createElement("p");
              weaponText.style.color = "yellow";
              weaponText.innerText = allWeapons[Math.floor(Math.random() * allWeapons.length)];
              listItem.appendChild(weaponText);
            }
            li.appendChild(listItem);
            li.setAttribute("padding","0");
          }
        }
        groupElement.appendChild(li);
        if(groupTemplate.nextSibling){
          groupTemplate.parentNode.insertBefore(groupElement,groupTemplate.nextSibling);
        }else{
          groupTemplate.parentNode.appendChild(groupElement);
        }
      }
      nintendise();
      let allGroups = document.getElementsByClassName("random-group");

      for (let i = 0; i < allGroups.length; i++) {
        nintyReload(allGroups[i]);
      }
      allGroups[0].scrollIntoView();
    }
    function randomWeapons(input) {
      console.log("pressed!");
      let oldLabel = input.parentElement;
      let parent = oldLabel.parentElement
      let display = oldLabel.style.display;
      let classList = oldLabel.classList;
      let newLabel = document.createElement("label");
      newLabel.style.display = display;
      newLabel.classList = classList;
      parent.removeChild(oldLabel);

      if (input.checked) {
        newLabel.textContent = "Weapons ON";
        newLabel.classList.replace("btn-warning","btn-success");
      }
      else {
        newLabel.textContent = "Weapons OFF";
        newLabel.classList.replace("btn-success","btn-warning");
      }
      newLabel.appendChild(input);
      parent.appendChild(newLabel);
    }
  </script>
  <div class="row">
  <input type="button" class="btn btn-light" style="margin-bottom: 1%; margin-top: 1%;" onclick="randomisePlayers()" value="Randomise Players!">
    <div class="form-check">
      <label class="form-check-label random-weapons-label btn btn-warning btn-sm">Weapons OFF
        <input class="is-random-weapons" type="checkbox" autocomplete="off" onclick="randomWeapons(this)" style="display: none" name="is-random-weapons">
      </label>
    </div>
  </div>
  <div class="group-template nintendo-style" style="display:none;color:white;margin:1%">
    <ul>
      <li class="group-item-template" style="display: none; list-style-type: none"></li>
    </ul>
  </div>
  <div class="row nintendo-style">
    <input type="button" class="btn btn-success col-sm-2" style="margin: 1%" onclick="randomiseStage()" value="Randomise Stage!">
    <p style="font-size: x-large;margin: 1rem;font-weight: bold;display: none;" class="stageNameEn col-sm-4"></p>
    <p style="font-size: x-large;margin: 1rem;font-weight: bold;display: none" class="stageNameDe col-sm-4"></p>
  </div>
  <script>
    function randomiseStage() {
      let maps = [["Humpback Pump Track","Buckelwal-Piste"],["Inkblot Art Academy","Nacre Academy"],["Moray Towers","Muränentürme"],["Musselforge Fitness","Molluskelbude"],
        ["Port Mackerel","Heilbutt-Hafen"],["Starfish Mainstage","Seeigel-Rockbühne"],["Sturgeon Shipyard","Störwerft"],["The Reef","Korallenviertel"],["Manta Maria","Manta Maria"],
        ["Kelp Dome","Tümmlerkuppel"],["Snapper Canal","Grätenkanal"],["Blackbelly Skatepark","Punkasius-Skatepark"],["MakoMart","Cetacea Market"],["Walleye Warehouse","Kofferfisch-Lager"],["Shellendorf Institute","Abyssal-Museum"],
        ["Arowana Mall","Arowana Center"],["Goby Arena","Backfisch-Stadion"],["Piranha Pit","Steinköhler-Grube"],["Camp Triggerfish","Camp Schützenfisch"],["Wahoo World","Flunder-Funpark"],["New Albacore Hotel","Hotel Neothun"],
        ["Ancho-V Games","Anchobit Games HQ"],["Skipper Pavilion","Grundel-Pavillon"]
      ];
      let randomNumber = Math.floor(Math.random() * maps.length);
      let stageText = document.getElementsByClassName("stageNameEn")[0];
      stageText.innerHTML = maps[randomNumber][0];
      stageText.style.display = "";
      let stageTextDe = document.getElementsByClassName("stageNameDe")[0];
      stageTextDe.innerHTML = maps[randomNumber][1];
      stageTextDe.style.display = "";
      nintyReload(stageText.parentElement);
    }
  </script>
  <div class="nintendo-style row">
    <input type="button" class="btn btn-info col-sm-2" style="margin: 1%" onclick="randomiseMode()" value="Randomise Mode!">
    <p style="font-size: x-large;margin: 1rem;font-weight: bold;display: none;" class="modeEn col-sm-4"></p>
    <p style="font-size: x-large;margin: 1rem;font-weight: bold;display: none;" class="modeDe col-sm-4"></p>
  </div>
  <script>
    function randomiseMode() {
      let modeText = document.getElementsByClassName("modeEn")[0];
      let modeTextDe = document.getElementsByClassName("modeDe")[0];
      let modes = [["Splat Zones","Herrschaft"],["Tower Control","Turmkommando"],["Rainmaker","Operation Goldfisch"],["Clam Blitz","Muschelchaos"]];
      let randomNumber = Math.floor(Math.random() * modes.length);
      modeText.innerHTML = modes[randomNumber][0];
      modeText.style.display = "";
      modeTextDe.innerHTML = modes[randomNumber][1];
      modeTextDe.style.display = "";
      nintyReload(modeText.parentElement);
    }
  </script>
</div>
<img class="img-fluid mx-auto d-block" style="border-radius: 25px; margin-top: 2%" src="https://i.imgur.com/4sYjp3T.png" title="Hardcore Noobs" alt="Hardcore Noobs"/>
<p class="float-right" style="color: white">Created by Richard Sutton</p>
</body>
<script>nintendise();chooseGroupSize();</script>

</html>
